<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
    <!-- 你的专业电子邮局
手机App下载
电脑客户端下载
VIP
会员
企业邮箱
海外登录
帮助
反馈
修复公示
    -->
</head>

<body>
    <header>
        <div class="logo">
            <img src='./imgs/logo.png' alt="">
            <span>你的专业电子邮局</span>
        </div>
        <div class="rightMenu">
            <a href="">手机App下载</a>
            <a href="">电脑客户端下载</a>
            <a href="">VIP</a>
            <a href="">会员</a>
            <a href="">企业邮箱</a>
            <a href="">海外登录</a>
            <a href="">帮助</a>
            <a href="">反馈</a>
            <a href="">修复公示</a>
        </div>
    </header>
    <div class="loginDiv">
        <a href=""> </a>
        <div class="form">
            <h3>账号登录</h3>
            <p>
                <input type="text" name="" id="" placeholder="邮箱账号或手机号码">
            </p>
            <p>
                <input type="password" name="" id="" placeholder="输入密码">
            </p>
            <div class="codeInput">
                <input type="text" max="4" maxlength="4" name="" id="code64">
                <div class="code">
                    <img src="./imgs/code.png" alt="">
                    <!-- <a id="changeCode" href="javascript:;">换一张</a> -->
                </div>
            </div>
            <button id="login">登录</button>
            <p><a href="">忘记密码</a>
                <a href="">注册新账户</a>
            </p>
            <span>阅读并接受 <a href="">《服务条款》</a>和<a href="">《隐私政策》</a> </span>
        </div>
    </div>
    <div class="bg-box">
        <div class="slide">
            <div class="item"
                style="background: url('https://mail-activity.nosdn.127.net/54d46d33-810a-4f3d-9e14-a8671608feeb');">
            </div>
            <div class="item"></div>
            <div class="item"></div>
        </div>
    </div>
    <script src="./js/jquery-3.6.3.min.js"></script>
    <script>
        var img = $('.code img')[0];
        var code = '';

        changeCode();

        $('#login').on('click',function(){
            console.log(isTrueCode());
        });
        //点击事件
        $('.code img').click(() => {
            changeCode();
        });
        //切换图片
        function changeCode(){
            $.get('https://1283980n95.picp.vip/img_code?num=4', (res) => {
                // console.log(res);
                code = res.code;
                img.src = res.capBase64Pic;
            });
            return code;
        }
        //判断
        function isTrueCode(){
            var msg = '';
            text =  $('#code64').val().trim();
            // console.log();
            if(text.length == 0){
                return msg = "验证码不能为空";
            }else if(text.toUpperCase() != code.toUpperCase()){
                $('#code64').val("");
                $('.code img').click();
                return msg = '验证码错误!';
            }else{
                $('#code64').val("");
                $('.code img').click();
                return msg = '验证码正确!';
            }
        }
    </script>
</body>

</html>